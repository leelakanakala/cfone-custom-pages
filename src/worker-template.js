// Cloudflare Worker for Custom Pages
// Auto-generated by build.js - DO NOT EDIT DIRECTLY

export default {
  async fetch(request, env, ctx) {
    const url = new URL(request.url);
    const path = url.pathname;

    // Route to appropriate page handler
    if (path === '/cf-gateway/' || path === '/cf-gateway') {
      return serveGatewayPage(url);
    } else if (path === '/coaching/' || path === '/coaching') {
      return serveCoachingPage(url);
    } else if (path === '/') {
      return Response.redirect(url.origin + '/cf-gateway/', 302);
    } else {
      return new Response('Page not found', { status: 404 });
    }
  },
};

// Serve Gateway Block Page
function serveGatewayPage(url) {
  const gatewayPageHTML = `__GATEWAY_PAGE_HTML__`;
  
  return new Response(gatewayPageHTML, {
    headers: {
      'content-type': 'text/html;charset=UTF-8',
      'cache-control': 'public, max-age=3600',
    },
  });
}

// Serve Coaching Page
function serveCoachingPage(url) {
  const coachingPageHTML = `__COACHING_PAGE_HTML__`;
  
  return new Response(coachingPageHTML, {
    headers: {
      'content-type': 'text/html;charset=UTF-8',
      'cache-control': 'public, max-age=3600',
    },
  });
}
